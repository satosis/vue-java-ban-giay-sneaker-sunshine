<template>
  <header class="d-flex justify-content-between align-items-center bg-white text-dark p-3 position-relative">
    <!-- Carousel ch·∫°y ch·ªØ qu·∫£ng c√°o -->
    <div id="textCarousel" class="carousel slide w-50" data-bs-ride="carousel">
      <div class="carousel-inner text-center">
        <div class="carousel-item active">
          <h5 class="fw-bold">Welcome to Sunshine Sneakers</h5>
        </div>
        <div class="carousel-item">
          <h5 class="fw-bold text-danger">Big Discounts This Week! üî•</h5>
        </div>
        <div class="carousel-item">
          <h5 class="fw-bold text-success">Shop Now and Save More! üõçÔ∏è</h5>
        </div>
      </div>
    </div>

    <!-- Khu v·ª±c t√†i kho·∫£n -->
    <div class="d-flex align-items-center">
      <span>Welcome, <strong>{{ employeeName }}</strong>!</span>
      <button @click="logout" class="btn btn-danger ms-3">Logout</button>
    </div>
  </header>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { useRouter } from 'vue-router';

// Khai b√°o router
const router = useRouter();
const employeeName = ref('');

// L·∫•y th√¥ng tin ng∆∞·ªùi d√πng t·ª´ localStorage khi trang ƒë∆∞·ª£c t·∫£i
onMounted(() => {
  const storedName = localStorage.getItem('employeeName');
  if (!storedName) {
    router.push('/login'); // N·∫øu kh√¥ng c√≥ d·ªØ li·ªáu => quay l·∫°i login
    return;
  }
  employeeName.value = storedName;
});

// H√†m ƒëƒÉng xu·∫•t
const logout = () => {
  localStorage.removeItem('token');
  localStorage.removeItem('username');

  router.push('/login');
  window.location.reload();
};
</script>
